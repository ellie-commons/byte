app-id: io.github.ellie_commons.byte
runtime: io.elementary.Platform
runtime-version: '8'
sdk: io.elementary.Sdk
command: io.github.ellie_commons.byte
finish-args:
  - '--share=ipc'
  - '--filesystem=xdg-music'
  - '--socket=fallback-x11'
  - '--socket=wayland'
  - '--socket=pulseaudio'
  - '--talk-name=org.gnome.SettingsDaemon'
  - '--talk-name=ca.desrt.dconf'
  - '--env=DCONF_USER_CONFIG_DIR=.config/dconf'

modules:
  - name: taglib
    buildsystem: cmake-ninja
    config-opts:
      - '-DBUILD_SHARED_LIBS=ON'
    cleanup:
      - /bin
    sources:
        - type: git
          url: https://github.com/taglib/taglib.git
          tag: v1.12

  - name: byte
    buildsystem: meson
    config-opts:
     - '--libdir=lib'
    sources:
      - type: dir
        path: .